---
sidebar: sidebar 
permalink: upgrade-arl-auto-in-chassis/replace-node1-affa800.html 
keywords: aff, asa, fas, replace, node1, system, modules 
summary: Substitua os módulos de sistema AFF A800 ou AFF C800 node1 ao usar o ARL para atualizar modelos de controladora no mesmo chassi. 
---
= Substitua o módulo do controlador node1 AFF A800 ou AFF C800
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Substitua o módulo controlador node1 AFF A800 ou AFF C800 por um módulo controlador AFF A90, AFF A70 ou AFF C80.

Nesse estágio, o node1 está inativo e todos os dados são fornecidos pelo node2. Você deve tomar cuidado para remover apenas o módulo do controlador node1. Ao observar os controladores pela parte traseira do sistema, os controladores estão empilhados, com o controlador A normalmente na parte superior. A etiqueta do controlador está localizada no chassi diretamente acima do módulo do controlador.


CAUTION: Não desligue o chassi porque o node1 e o node2 estão no mesmo chassi e conetados às mesmas fontes de alimentação.

.Antes de começar
Se você ainda não está aterrado, aterre-se corretamente.



== Etapa 1: Remova o módulo do controlador AFF A800 ou AFF C800

Remova o dispositivo de gerenciamento de cabos do módulo node1 existente e mova o controlador ligeiramente para fora do chassi.

.Passos
. Certifique-se de que todas as unidades do chassi estejam firmemente assentadas contra o plano intermediário, usando os polegares para empurrar cada unidade até sentir uma parada positiva.
+
.Vídeo - Confirme o encaixe da unidade
video::2c46e4af-2c21-4f12-b065-b38b003d0ea2[panopto]
+
image:drw_a800_drive_seated_IEOPS-960.svg["Assente as unidades"]

. Verifique as unidades do controlador com base no status do sistema:
+
.. No controlador íntegro, verifique se algum grupo RAID ativo está em um estado degradado, em falha ou em ambos:
+
[source, cli]
----
storage aggregate show -raidstatus !*normal*
----
+
*** Se o comando retornar `There are no entries matching your query.`, continue para <<Check-missing-drives,vá para a próxima subetapa para verificar se há unidades ausentes>>.
*** Se o comando retornar qualquer outro resultado, colete os dados AutoSupport de ambos os controladores e entre em contato com NetApp Support para obter mais assistência.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----


.. [[Check-missing-drives]]Verifique se há problemas de falta de unidades tanto para o sistema de arquivos quanto para as unidades sobressalentes:
+
[source, cli]
----
event log show -severity * -node * -message-name *disk.missing*
----
+
*** Se o comando retornar `There are no entries matching your query.`, continue para <<remove-power-cables,ir para a próxima etapa>>.
*** Se o comando retornar qualquer outro resultado, colete os dados AutoSupport de ambos os controladores e entre em contato com NetApp Support para obter mais assistência.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----




. [[remove-power-cables]]Remova os retentores dos cabos de alimentação e, em seguida, desconecte os cabos das fontes de alimentação.
. Desconete as fontes de alimentação do módulo do controlador node1 da fonte.
. Solte os fixadores do cabo de alimentação e, em seguida, desconete os cabos das fontes de alimentação.
. Solte o gancho e a alça de loop que prendem os cabos ao dispositivo de gerenciamento de cabos e, em seguida, desconete os cabos do sistema e os módulos SFP e QSFP (se necessário) do módulo do controlador, mantendo o controle de onde os cabos foram conetados.
+
Deixe os cabos no dispositivo de gerenciamento de cabos para que, ao reinstalar o dispositivo de gerenciamento de cabos, os cabos sejam organizados.

. Retire o dispositivo de gestão de cabos do módulo do controlador e coloque-o de lado.
. Prima ambos os trincos de bloqueio para baixo e, em seguida, rode ambos os trincos para baixo ao mesmo tempo.
+
O módulo do controlador desloca-se ligeiramente para fora do chassis.

+
image:a800_cable_management.png["Remoção do ARM de gerenciamento de cabos"]

+
[cols="20,80"]
|===


 a| 
image:black_circle_one.png["Número um"]
| Trinco de bloqueio 


 a| 
image:black_circle_two.png["Número dois"]
| Pino de bloqueio 
|===




== Etapa 2: instale o módulo controlador AFF A90, AFF A70 ou AFF C80

Instale, conecte os cabos e conecte o módulo controlador AFF A90, AFF A70 ou AFF C80 no node1.

.Passos
. Alinhe a extremidade do módulo do controlador com a abertura no chassis e, em seguida, empurre cuidadosamente o módulo do controlador até meio do sistema.
+

NOTE: Não introduza completamente o módulo do controlador no chassis até ser instruído a fazê-lo mais tarde no procedimento.

+
image:drw_A70-90_PCM_remove_replace_IEOPS-1365.PNG["Instale um AFF A90 ou AFF A70"]

. Cable as portas de gerenciamento e console para o módulo do controlador node1.
+

NOTE: Quando você insere o módulo controlador node1 na próxima etapa, o node1 inicia imediatamente a inicialização do BIOS seguida de AUTOBOOT porque o chassi já está ligado. Você evita esse AUTOBOOT conectando os cabos serial e de console antes de inserir o módulo.

. Na parte frontal do chassi, use os polegares para empurrar firmemente cada unidade nos compartimentos de disco superior e inferior até sentir um travamento positivo.  Isso garante que as unidades estejam firmemente assentadas no plano médio do chassi.
+
image:drw_a800_drive_seated_IEOPS-960.png["Empurre a transmissão para assentar firmemente contra o plano médio do chassis"]

+
.. Vá para a parte traseira do chassis.


. Com a alavanca do came na posição aberta, empurre firmemente o módulo do controlador até que ele atenda ao plano médio e esteja totalmente assentado. O trinco de bloqueio sobe quando o módulo do controlador está totalmente assente. Feche o manípulo do excêntrico para a posição de bloqueio.
+

NOTE: Para evitar danificar os conetores, não utilize força excessiva ao deslizar o módulo do controlador para o chassis.

. Conete o console serial assim que o módulo estiver assentado e esteja pronto para interromper o AUTOBOOT de node1.
. Depois de interromper o AUTOBOOT, o node1 pára no prompt DO Loader.
+
Se você não interromper o AUTOBOOT a tempo e o node1 iniciar a inicialização, aguarde o prompt e pressione Ctrl-C para entrar no menu de inicialização. Após o nó parar no menu de inicialização, use a opção `8` para reinicializar o nó e interromper o AUTOBOOT durante a reinicialização.

. No prompt Loader> de node1, defina as variáveis de ambiente padrão:
+
[source, cli]
----
set-defaults
----
. Salve as configurações de variáveis de ambiente padrão:
+
[source, cli]
----
saveenv
----

